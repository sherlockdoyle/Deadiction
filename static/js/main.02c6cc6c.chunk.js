(this.webpackJsonpdeadiction=this.webpackJsonpdeadiction||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(19),s=n.n(a),o=n(8),r=n(5),l=n(2),d=(n(16),n.p+"static/media/github.62c49901.svg"),j=n(0);var b=function(e){return Object(j.jsxs)("div",{className:"main-win",children:[Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("h1",{children:e.title}),Object(j.jsx)("button",{className:"github",title:"See source code!",onClick:function(){return open("https://github.com/sherlockdoyle/Deadiction","_blank")},children:Object(j.jsx)("img",{src:d,alt:"Github"})})]}),Object(j.jsx)("div",{className:"content",children:e.children})]})},h=n.p+"static/media/share.968fb690.svg";function u(e){return Object(j.jsx)("ul",{className:"list-view",children:e.children})}function m(e){return Object(j.jsxs)("li",{className:"list-item",onClick:e.onClick,children:[Object(j.jsx)("div",{className:"content",children:e.children}),Object(j.jsx)("button",{className:"share",onClick:function(t){e.onShare(),t.stopPropagation()},children:Object(j.jsx)("img",{src:h,alt:">"})})]})}var O=n(20),x="deadiction_data",p={HOUR:24,DAY:1,WEEK:1/7,MONTH:1/30},v=null,f={loadData:function(){if(null===v){var e=localStorage.getItem(x);v=null===e?this.initData():JSON.parse(e)}return this.updateData(v),v},initData:function(){return{firstTime:!0,version:"1",addictions:[]}},updateData:function(e){switch(e.version){case"0":var t,n=Object(O.a)(e.addictions);try{for(n.s();!(t=n.n()).done;){t.value.decrementFactor*=100/66}}catch(c){n.e(c)}finally{n.f()}}e.version="1",this.saveData()},saveData:function(){localStorage.setItem(x,JSON.stringify(v))},clearData:function(){localStorage.removeItem(x)},createAddiction:function(e,t,n){t*=p[n];var c=(new Date).getTime(),i={id:c,name:e,freq:t,acceptableRatio:1,decrementFactor:Math.min(1,1/t)/66,timesAsked:0,timesUsed:0,timesResisted:0,timesRelapsed:0};return this.loadData(),v.addictions.push(i),this.saveData(),c},getAddiction:function(e){return this.loadData(),v.addictions.find((function(t){return t.id===e}))},addictionIsAvailable:function(e){return this.loadData(),v.addictions.find((function(t){return t.name===e}))},removeAddiction:function(e){this.loadData();var t=v.addictions.findIndex((function(t){return t.id===e}));-1!==t&&v.addictions.splice(t,1),this.saveData()},clearAddictions:function(){this.loadData(),v.addictions.length=0,this.saveData()}},g=(n(17),n.p+"static/media/cancel.3cad4f91.svg"),y=n.p+"static/media/tick.e9615eeb.svg";var w=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1],s=Object(l.i)(),o=s.path,d=s.url,b=Object(l.g)();return Object(j.jsx)("div",{id:"creator",children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"".concat(o,"/name"),children:Object(j.jsx)(k,{setName:a,onParentDone:e.onDone,history:b,url:d})}),Object(j.jsx)(l.b,{path:"".concat(o,"/freq"),children:0===i.length?Object(j.jsx)(l.a,{to:"".concat(d,"/name")}):Object(j.jsx)(D,{name:i,onParentDone:e.onDone})}),Object(j.jsx)(l.b,{path:o,children:Object(j.jsx)(l.a,{to:"".concat(d,"/name")})})]})})};function k(e){var t=f.loadData(),n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],o=a[1],d=i.a.createRef(),b=Object(c.useState)(!1),h=Object(r.a)(b,2),u=h[0],m=h[1],O=Object(c.useState)(""),x=Object(r.a)(O,2),p=x[0],v=x[1],w=Object(l.g)();function k(){var t=0===s.length?1:f.addictionIsAvailable(s.trim().toUpperCase())?2:0;t?(v(1===t?"Enter something!":"'".concat(s.trim().toUpperCase(),"' already exists!")),m(!0),d.current.focus(),setTimeout((function(){return m(!1)}),1e3)):(m(!1),e.setName(s.trim().toUpperCase()),w.push("".concat(e.url,"/freq")))}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"content",children:Object(j.jsxs)("div",{id:"create-name",children:["I wish not to",Object(j.jsx)("br",{}),Object(j.jsx)("input",{ref:d,className:u?"err":"",placeholder:"verb",title:"Name of addiction",autoFocus:!0,value:s,onChange:function(e){return o(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&k()},style:{width:"100%"}})]})}),Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("button",{className:"cancel",title:"Cancel",onClick:function(){0===t.addictions.length?(o(""),d.current.focus()):e.onParentDone()},children:Object(j.jsx)("img",{src:g,alt:"\u2717"})}),u?Object(j.jsx)("div",{className:"errorMessage",children:p}):null,Object(j.jsx)("button",{className:"done",title:"Done",onClick:k,children:Object(j.jsx)("img",{src:y,alt:"\u2713"})})]})]})}function C(e){var t=0;do{t+=1,e=~~(e/10)}while(e);return.55*t+.15+"em"}function D(e){var t,n=Object(c.useState)(1),i=Object(r.a)(n,2),a=i[0],s=i[1],o=Object(c.useState)(1),d=Object(r.a)(o,2),b=d[0],h=d[1],u=Object(c.useState)("DAY"),m=Object(r.a)(u,2),O=m[0],x=m[1],p=Object(l.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"content",children:Object(j.jsxs)("div",{id:"create-freq",children:["I ",e.name," ",Object(j.jsx)("input",{type:"number",min:"1",step:"1",value:a,onChange:function(e){return s(Math.max(1,Math.round(Number(e.target.value))))},style:{width:C(a)}})," time",1===a?"":"s"," every ",Object(j.jsx)("input",{type:"number",min:"1",step:"1",value:b,onChange:function(e){return h(Math.max(1,Math.round(Number(e.target.value))))},style:{width:C(b)}})," ",Object(j.jsxs)("nobr",{children:[Object(j.jsxs)("select",{value:O,onChange:function(e){return x(e.target.value)},style:{width:(t=O,.85*t.length-2/3+"em"),marginRight:"-0.05em"},children:[Object(j.jsx)("option",{value:"HOUR",children:"HOUR"}),Object(j.jsx)("option",{value:"DAY",children:"DAY"}),Object(j.jsx)("option",{value:"WEEK",children:"WEEK"}),Object(j.jsx)("option",{value:"MONTH",children:"MONTH"})]}),1===b?"":"s"]}),"."]})}),Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("button",{className:"cancel",onClick:function(){return p.goBack()},children:Object(j.jsx)("img",{src:g,alt:"\u2717"})}),Object(j.jsx)("button",{className:"done",onClick:function(){f.createAddiction(e.name.trim().toUpperCase(),a/b,O.trim().toUpperCase()),e.onParentDone()},children:Object(j.jsx)("img",{src:y,alt:"\u2713"})})]})]})}var N=n.p+"static/media/add.0837f12a.svg";var I=function(e){var t=Object(l.h)(),n=f.getAddiction(t.state.addictionID),c=0===n.timesUsed?1:n.timesUsed/n.timesAsked;console.log(n,c,n.acceptableRatio);var i=c<=n.acceptableRatio;return Object(j.jsxs)("div",{id:"viewer",children:[Object(j.jsx)("button",{className:"cancel",title:"Cancel",onClick:e.onCancel,children:Object(j.jsx)("img",{src:g,alt:"\u2717"})}),Object(j.jsxs)("div",{className:"content",children:["You ",Object(j.jsx)("span",{style:{color:i?"#002300":"#490000"},children:i?"may":"should not"})," ",n.name,"."]}),Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("div",{className:"header",children:"Please choose one to save progress."}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsxs)("button",{className:"no",onClick:function(){n.timesAsked+=1,n.timesUsed+=1,i||(n.timesRelapsed+=1),n.acceptableRatio=Math.max(n.acceptableRatio-n.decrementFactor,0),f.saveData(),e.onCancel()},children:["I ",Object(j.jsx)("b",{children:"did"})," ",n.name]}),Object(j.jsxs)("button",{className:"yes",onClick:function(){n.timesAsked+=1,i&&(n.timesResisted+=1),f.saveData(),e.onCancel()},children:["I ",Object(j.jsx)("b",{children:"did not"})," ",n.name]})]})]})]})},S=n.p+"static/media/copy.74285c11.svg",R=n.p+"static/media/whatsapp.3180c888.svg",A=n.p+"static/media/facebook.0ca03b77.svg",T=n.p+"static/media/twitter.27d98fa0.svg",U=n.p+"static/media/reddit.0e964dac.svg",E=n.p+"static/media/anywhere.d01c2b01.svg",M=window.location.origin+"/Deadiction";function W(e){navigator.clipboard.writeText(e).then(null,(function(){return alert("Not copied :(")}))}var F=function(e){var t,n=Object(l.h)(),c=f.getAddiction(n.state.addictionID);return 0===c.timesAsked?t="I've not used Deadiction still, but I've a good feeling about this.\nI'm trying not to ".concat(c.name.toLowerCase(),"."):1===c.timesAsked?t="Just started using Deadiction, and I've a good feeling about this.\nI'm trying not to ".concat(c.name.toLowerCase()).concat(c.timesResisted?" and I've already started resisting":"","."):(t="I've used Deadiction ".concat(c.timesAsked," times trying to reduce how much I ").concat(c.name.toLowerCase(),"."),c.timesRelapsed?(t+="\n\nI did fail ".concat(c.timesRelapsed," time").concat(1===c.timesRelapsed?"":"s",", but I hope to improve."),c.timesResisted&&(t+="\nHopefully, I've been able to resist ".concat(c.timesResisted," time").concat(1===c.timesResisted?"":"s","."))):c.timesResisted&&(t+="\n\nI've already resisted ".concat(c.timesResisted," time").concat(1===c.timesResisted?"":"s","."))),Object(j.jsxs)("div",{id:"share",children:[Object(j.jsx)("button",{className:"cancel",title:"Cancel",onClick:e.onCancel,children:Object(j.jsx)("img",{src:g,alt:"\u2717"})}),Object(j.jsx)("h2",{children:"Share your story"}),Object(j.jsx)("div",{className:"content",children:t}),Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("button",{title:"Copy text",onClick:function(){return W(t+"\n\n"+M)},children:Object(j.jsx)("img",{src:S,alt:"Copy"})}),Object(j.jsx)("button",{title:"Share on WhatsApp",onClick:function(){return open("https://wa.me?text=".concat(encodeURIComponent(t+"\n\n"+M)),"_blank")},children:Object(j.jsx)("img",{src:R,alt:"WhatsApp"})}),Object(j.jsx)("button",{title:"Share on Facebook",onClick:function(){W(t),alert("Text copied, paste and share."),setTimeout((function(){return open("https://www.facebook.com/sharer.php?u=".concat(M),"_blank")}),10)},children:Object(j.jsx)("img",{src:A,alt:"Facebook"})}),Object(j.jsx)("button",{title:"Share on Twitter",onClick:function(){return open("http://twitter.com/share?text=".concat(encodeURIComponent(t),"&url=").concat(M,"&hashtags=deadiction"),"_blank")},children:Object(j.jsx)("img",{src:T,alt:"Twitter"})}),Object(j.jsx)("button",{title:"Share on Reddit",onClick:function(){return open("https://www.reddit.com/submit?title=Deadiction&text=".concat(encodeURIComponent(t+"\n\n"+M)),"_blank")},children:Object(j.jsx)("img",{src:U,alt:"Reddit"})}),Object(j.jsx)("button",{title:"Share anywhere",onClick:function(){navigator.share&&navigator.share({title:"Deadiction",text:t,url:M}).catch(console.error)},children:Object(j.jsx)("img",{src:E,alt:"Anywhere"})})]})]})};var H=function(){var e=f.loadData(),t=Object(l.i)(),n=t.path,c=t.url,i=Object(l.g)();return Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"".concat(n,"/create"),children:Object(j.jsx)(w,{onDone:function(){return i.replace("".concat(c,"/list"))}})}),Object(j.jsx)(l.b,{path:"".concat(n,"/list"),children:Object(j.jsx)(P,{onCreate:function(){return i.push("".concat(c,"/create"))},onItemSelect:function(e){return i.push("".concat(c,"/view"),{addictionID:e})},onShare:function(e){return i.push("".concat(c,"/share"),{addictionID:e})}})}),Object(j.jsx)(l.b,{path:"".concat(n,"/view"),children:Object(j.jsx)(I,{onCancel:i.goBack})}),Object(j.jsx)(l.b,{path:"".concat(n,"/share"),children:Object(j.jsx)(F,{onCancel:i.goBack})}),Object(j.jsx)(l.b,{path:n,children:0===e.addictions.length?Object(j.jsx)(l.a,{to:"".concat(c,"/create")}):Object(j.jsx)(l.a,{to:"".concat(c,"/list")})})]})};function P(e){var t=f.loadData();return Object(j.jsxs)("div",{id:"lister",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("button",{className:"add",title:"Create new",onClick:function(){return e.onCreate()},children:Object(j.jsx)("img",{src:N,alt:"+"})})}),Object(j.jsx)("div",{className:"instruction",children:"Choose what you're thinking to do."}),Object(j.jsx)(u,{children:t.addictions.map((function(t){return Object(j.jsxs)(m,{onClick:function(){return e.onItemSelect(t.id)},onShare:function(){return e.onShare(t.id)},children:["Should I ",Object(j.jsx)("b",{children:t.name}),"?"]},t.id)}))})]})}var q=n(22),B=n.p+"static/media/rarrow.ea32db54.svg";function _(e){var t=e.children.length,n=Object(c.useState)(0),a=Object(r.a)(n,2),s=a[0],o=a[1],l=i.a.cloneElement(e.children[s],{key:s,onNext:s===t-1?e.onEnd:function(){o(s+1)}});return Object(j.jsx)("div",{className:"card-view",children:l})}function J(e){var t=Object(c.useState)("enter"),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(j.jsxs)("div",{className:"card ".concat(i),style:Object(q.a)({},e.style),children:[Object(j.jsx)("div",{className:"content",children:e.children}),Object(j.jsx)("button",{title:"Next",onClick:function(){a("exit"),setTimeout(e.onNext,1e3)},children:Object(j.jsx)("img",{src:B,alt:">"})})]})}var Y=function(e){return Object(j.jsxs)(_,{onEnd:e.onEnd,children:[Object(j.jsxs)(J,{style:{textAlign:"center"},children:["Dealing with ",Object(j.jsx)("u",{children:"addiction"})," can be hard."]}),Object(j.jsx)(J,{children:"Maybe rehab doesn't exist for your kind of addiction. Or maybe you just don't wanna go because you're worried that people will know."}),Object(j.jsxs)(J,{children:["But, do you have the ",Object(j.jsx)("i",{children:"dedication"})," to quit your addiction by yourself?",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"If the answer is ",Object(j.jsx)("b",{children:"yes"}),", this simple web app might be able to help.",Object(j.jsx)("br",{}),"This takes a different approach to the problem."]}),Object(j.jsxs)(J,{children:["How do people get ",Object(j.jsx)("u",{children:"addicted"}),"?",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"We start with something ",Object(j.jsx)("small",{children:"small"}),", like an experiment. We like it and try to do a little more, thinking that we're in control.",Object(j.jsx)("br",{}),"And soon it goes ",Object(j.jsx)("big",{children:"out of control."})]}),Object(j.jsxs)(J,{children:[Object(j.jsx)("b",{children:"This"})," tries to take this backward. Initially, you are allowed to continue with your bad habits with small gaps in between. Gradually the gaps are increased.",Object(j.jsx)("br",{}),"When you've not done the ",Object(j.jsx)("u",{children:"bad habit"})," for some time, it incentivizes you by allowing you to do the ",Object(j.jsx)("u",{children:"bad habit"}),"."]}),Object(j.jsx)(J,{children:"It teaches you coping skills that might work for you, but more importantly, it motivates you. This helps keep you focused on quitting and helps motivate you to try to change."}),Object(j.jsx)(J,{children:Object(j.jsxs)("div",{style:{fontSize:"0.6em"},children:["If you don't have self-determination, or you relapse with the incentives, that will be a problem. But the idea behind this approach is that you've enough ",Object(j.jsx)("i",{children:"dedication"})," to stop your ",Object(j.jsx)("u",{children:"addiction"}),", with ",Object(j.jsx)("b",{children:"Deadiction"})," acting as a motivator.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"This is an offline app. All your data is stored in ",Object(j.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",children:"local storage"}),".",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{style:{fontFamily:"serif"},children:"Some addictions might need professional help. If so be the need, don't hesitate to reach out."}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"And lastly, if this approach, this app, helped you, do share your experience."]})})]})};var K=function(){var e,t=f.loadData(),n=Object(c.useState)(t.firstTime),i=Object(r.a)(n,2),a=i[0],s=i[1],o=e="/Deadiction",d=Object(l.g)();return Object(j.jsx)(b,{title:"Deadiction",children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"".concat(e,"/intro"),children:Object(j.jsx)(Y,{onEnd:function(){s(!1),t.firstTime=!1,f.saveData(),d.replace(o)}})}),Object(j.jsx)(l.b,{path:e,children:a?Object(j.jsx)(l.a,{to:"".concat(o,"/intro")}):Object(j.jsx)(H,{})}),Object(j.jsx)(l.b,{path:"/",children:Object(j.jsx)(l.a,{to:o})})]})})};s.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(K,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.02c6cc6c.chunk.js.map