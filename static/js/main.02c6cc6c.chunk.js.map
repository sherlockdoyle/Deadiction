{"version":3,"sources":["img/github.svg","components/main_win.jsx","img/share.svg","components/list.jsx","utils/storage.js","img/cancel.svg","img/tick.svg","layouts/creation.jsx","img/add.svg","layouts/AddictionView.jsx","img/copy.svg","img/whatsapp.svg","img/facebook.svg","img/twitter.svg","img/reddit.svg","img/anywhere.svg","layouts/ShareView.jsx","layouts/Addiction.jsx","img/rarrow.svg","components/card.jsx","layouts/Intro.jsx","App.jsx","index.js"],"names":["MainWin","props","className","title","onClick","open","src","github","alt","children","ListView","ListItem","e","onShare","stopPropagation","share","KEY","CONV","HOUR","DAY","WEEK","MONTH","data","loadData","storedd_data","localStorage","getItem","this","initData","JSON","parse","updateData","firstTime","version","addictions","decrementFactor","saveData","setItem","stringify","clearData","removeItem","createAddiction","name","freq","unit","id","Date","getTime","addiction","acceptableRatio","Math","min","timesAsked","timesUsed","timesResisted","timesRelapsed","push","getAddiction","find","x","addictionIsAvailable","removeAddiction","idx","findIndex","splice","clearAddictions","length","CreateAddiction","useState","setName","useRouteMatch","path","url","history","useHistory","CreateName","onParentDone","onDone","to","CreateFreq","storage","nameInput","React","createRef","wrong","setWrong","errorMessage","setErrorMessage","onNext","err","trim","toUpperCase","current","focus","setTimeout","ref","placeholder","autoFocus","value","onChange","target","onKeyPress","key","style","width","cancel","tick","numWidth","val","l","count","setCount","time","setTime","setUnit","type","step","max","round","Number","marginRight","goBack","AddictionView","location","useLocation","state","addictionID","currentRatio","console","log","canDo","onCancel","color","URL","window","origin","copyText","text","navigator","clipboard","writeText","then","alert","ShareView","adct","toLowerCase","copy","encodeURIComponent","whatsapp","facebook","twitter","reddit","catch","error","anywhere","Addiction","replace","ListAddiction","onCreate","onItemSelect","add","map","CardView","numCards","cardIdx","setCardIdx","card","cloneElement","onEnd","Card","setState","rarrow","Intro","textAlign","fontSize","href","fontFamily","App","setFirstTime","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.02c6cc6c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/github.62c49901.svg\";","import React from 'react';\nimport './style.css';\nimport github from '../img/github.svg'\n\nfunction MainWin(props) {\n  return <div className=\"main-win\">\n    <div className=\"title\">\n      <h1>{props.title}</h1>\n      <button\n        className=\"github\"\n        title='See source code!'\n        onClick={() => open('https://github.com/sherlockdoyle/Deadiction', '_blank')}\n      >\n        <img src={github} alt=\"Github\" />\n      </button>\n    </div>\n\n    <div className=\"content\">\n      {props.children}\n    </div>\n  </div>;\n}\n\nexport default MainWin;","export default __webpack_public_path__ + \"static/media/share.968fb690.svg\";","import React from 'react';\nimport share from '../img/share.svg';\n\nfunction ListView(props) {\n  return <ul className='list-view'>\n    {props.children}\n  </ul>;\n}\n\nfunction ListItem(props) {\n  return <li\n    className='list-item'\n    onClick={props.onClick}\n  >\n    <div className='content'>{props.children}</div>\n    <button\n      className='share'\n      onClick={(e) => {\n        props.onShare();\n        e.stopPropagation();\n      }}\n    ><img src={share} alt=\">\" /></button>\n  </li>;\n}\n\nexport { ListView, ListItem };","const KEY = 'deadiction_data';\nconst DATA_VERSION = '1';\nconst CONV = {  // times in a day\n  HOUR: 24,\n  DAY: 1,\n  WEEK: 1 / 7,\n  MONTH: 1 / 30\n}\n\nlet data = null;\n\nexport default {\n  loadData() {\n    if (data === null) {\n      let storedd_data = localStorage.getItem(KEY);\n      data = storedd_data === null ? this.initData() : JSON.parse(storedd_data);\n    }\n    this.updateData(data);\n    return data;\n  },\n\n  initData() {\n    return {\n      firstTime: true,\n      version: DATA_VERSION,\n      addictions: []\n    }\n  },\n\n  updateData(data) {\n    switch (data.version) {\n      case '0':\n        for (let addiction of data.addictions)\n          addiction.decrementFactor *= 100 / 66;\n    }\n    data.version = DATA_VERSION;\n    this.saveData();\n  },\n\n  saveData() {\n    localStorage.setItem(KEY, JSON.stringify(data));\n  },\n\n  clearData() {\n    localStorage.removeItem(KEY);\n  },\n\n  createAddiction(name, freq, unit) {\n    freq *= CONV[unit];\n    let id = new Date().getTime();\n    let decrementFactor = Math.min(1, 1 / freq) / 66;  // MAGIC 66(6)!!!\n\n    let addiction = {\n      id,\n      name,\n      freq,\n      acceptableRatio: 1,\n      decrementFactor,\n      timesAsked: 0,\n      timesUsed: 0,\n      timesResisted: 0,\n      timesRelapsed: 0\n    }\n    this.loadData();\n    data.addictions.push(addiction);\n    this.saveData();\n    return id;\n  },\n\n  getAddiction(id) {\n    this.loadData();\n    return data.addictions.find(x => x.id === id);\n  },\n\n  addictionIsAvailable(name) {\n    this.loadData();\n    return data.addictions.find(x => x.name === name);\n  },\n\n  removeAddiction(id) {\n    this.loadData();\n    let idx = data.addictions.findIndex(x => x.id === id);\n    if (idx !== -1)\n      data.addictions.splice(idx, 1);\n    this.saveData();\n  },\n\n  clearAddictions() {\n    this.loadData();\n    data.addictions.length = 0;\n    this.saveData();\n  }\n}","export default __webpack_public_path__ + \"static/media/cancel.3cad4f91.svg\";","export default __webpack_public_path__ + \"static/media/tick.e9615eeb.svg\";","import React, { useState } from 'react';\nimport storage from '../utils/storage';\nimport './style.css'\nimport cancel from '../img/cancel.svg'\nimport tick from '../img/tick.svg'\nimport { Redirect, Route, Switch, useHistory, useRouteMatch } from 'react-router-dom';\n\nfunction CreateAddiction(props) {\n  let [name, setName] = useState('');\n  const { path, url } = useRouteMatch();\n  const history = useHistory();\n\n  return <div id='creator'>\n    <Switch>\n      <Route path={`${path}/name`}>\n        <CreateName\n          setName={setName}\n          onParentDone={props.onDone}\n          history={history}\n          url={url}\n        />\n      </Route>\n      <Route path={`${path}/freq`}>{\n        name.length === 0 ?\n          <Redirect to={`${url}/name`} /> :\n          <CreateFreq\n            name={name}\n            onParentDone={props.onDone}\n          />\n      }</Route>\n      <Route path={path}><Redirect to={`${url}/name`} /></Route>\n    </Switch>\n    {/* <div style={{ width: \"100%\", height: \"100%\", background: \"linear-gradient(red, blue)\" }}></div> */}\n  </div>;\n}\n\nexport default CreateAddiction;\n\nfunction CreateName(props) {\n  let data = storage.loadData();\n\n  let [name, setName] = useState('');\n  let nameInput = React.createRef()\n  let [wrong, setWrong] = useState(false);\n  let [errorMessage, setErrorMessage] = useState('');\n\n  const history = useHistory();\n\n  function onNext() {\n    let err = name.length === 0 ? 1 : storage.addictionIsAvailable(name.trim().toUpperCase()) ? 2 : 0;\n    if (err) {\n      setErrorMessage(err === 1 ? 'Enter something!' : `'${name.trim().toUpperCase()}' already exists!`);\n      setWrong(true);\n      nameInput.current.focus();\n      setTimeout(() => setWrong(false), 1000);\n    }\n    else {\n      setWrong(false);\n      props.setName(name.trim().toUpperCase());\n      history.push(`${props.url}/freq`);\n    }\n  }\n\n  return <>\n    <div className='content'>\n      <div id='create-name'>\n        I wish not to<br />\n        <input\n          ref={nameInput}\n          className={wrong ? 'err' : ''}\n          placeholder='verb'\n          title='Name of addiction'\n          autoFocus\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          onKeyPress={(e) => {\n            if (e.key === 'Enter')\n              onNext();\n          }}\n          style={{ width: '100%' }}\n        />\n      </div>\n    </div>\n\n    <div className='control'>\n      <button\n        className='cancel'\n        title='Cancel'\n        onClick={() => {\n          if (data.addictions.length === 0) {\n            setName('');\n            nameInput.current.focus();\n          }\n          else\n            props.onParentDone();\n        }}\n      ><img src={cancel} alt=\"✗\" /></button>\n      {wrong ? <div className='errorMessage'>{errorMessage}</div> : null}\n      <button\n        className='done'\n        title='Done'\n        onClick={onNext}\n      ><img src={tick} alt=\"✓\" /></button>\n    </div>\n  </>;\n}\n\nfunction numWidth(val) {\n  let l = 0;\n  do {\n    l += 1;\n    val = ~~(val / 10);\n  } while (val);\n  return (0.55 * l + 0.15) + 'em';\n}\n\nfunction charWidth(val) {\n  return (0.85 * val.length - 2 / 3) + 'em';\n}\n\nfunction CreateFreq(props) {\n  let [count, setCount] = useState(1);\n  let [time, setTime] = useState(1);\n  let [unit, setUnit] = useState('DAY');\n\n  const history = useHistory();\n\n  return <>\n    <div className='content'>\n      <div id='create-freq'>\n        I {props.name} <input\n          type='number'\n          min='1'\n          step='1'\n          value={count}\n          onChange={(e) => setCount(Math.max(1, Math.round(Number(e.target.value))))}\n          style={{ width: numWidth(count) }}\n        /> time{count === 1 ? '' : 's'} every <input\n          type='number'\n          min='1'\n          step='1'\n          value={time}\n          onChange={(e) => setTime(Math.max(1, Math.round(Number(e.target.value))))}\n          style={{ width: numWidth(time) }}\n        /> <nobr>\n          <select\n            value={unit}\n            onChange={(e) => setUnit(e.target.value)}\n            style={{\n              width: charWidth(unit),\n              marginRight: '-0.05em'\n            }}\n          >\n            <option value=\"HOUR\">HOUR</option>\n            <option value=\"DAY\">DAY</option>\n            <option value=\"WEEK\">WEEK</option>\n            <option value=\"MONTH\">MONTH</option>\n          </select>{time === 1 ? '' : 's'}\n        </nobr>.\n      </div>\n    </div>\n\n    <div className='control'>\n      <button\n        className='cancel'\n        onClick={() => history.goBack()}\n      ><img src={cancel} alt=\"✗\" /></button>\n\n      <button\n        className='done'\n        onClick={() => {\n          storage.createAddiction(props.name.trim().toUpperCase(), count / time, unit.trim().toUpperCase());\n          props.onParentDone();\n        }}\n      ><img src={tick} alt=\"✓\" /></button>\n    </div>\n  </>;\n}","export default __webpack_public_path__ + \"static/media/add.0837f12a.svg\";","import React from 'react';\nimport storage from '../utils/storage';\nimport cancel from '../img/cancel.svg';\nimport { useLocation } from 'react-router-dom';\n\nfunction AddictionView(props) {\n  const location = useLocation();\n  let addiction = storage.getAddiction(location.state.addictionID)\n  let currentRatio = addiction.timesUsed === 0 ? 1 : addiction.timesUsed / addiction.timesAsked;\n  console.log(addiction, currentRatio, addiction.acceptableRatio)\n  let canDo = currentRatio <= addiction.acceptableRatio;\n\n  return <div id='viewer'>\n    <button\n      className='cancel'\n      title='Cancel'\n      onClick={props.onCancel}\n    ><img src={cancel} alt=\"✗\" /></button>\n    <div className='content'>You <span style={{\n      color: canDo ? '#002300' : '#490000'\n    }}>{canDo ? 'may' : 'should not'}</span> {addiction.name}.</div>\n\n    <div className='control'>\n      <div className='header'>Please choose one to save progress.</div>\n      <div className='buttons'>\n        <button\n          className='no'\n          onClick={() => {\n            addiction.timesAsked += 1;\n            addiction.timesUsed += 1;\n            if (!canDo) addiction.timesRelapsed += 1\n            addiction.acceptableRatio = Math.max(addiction.acceptableRatio - addiction.decrementFactor, 0);\n            storage.saveData();\n            props.onCancel();\n          }}\n        >I <b>did</b> {addiction.name}</button>\n\n        <button\n          className='yes'\n          onClick={() => {\n            addiction.timesAsked += 1;\n            if (canDo) addiction.timesResisted += 1;\n            storage.saveData();\n            props.onCancel();\n          }}\n        >I <b>did not</b> {addiction.name}</button>\n      </div>\n    </div>\n  </div>;\n}\n\nexport default AddictionView;","export default __webpack_public_path__ + \"static/media/copy.74285c11.svg\";","export default __webpack_public_path__ + \"static/media/whatsapp.3180c888.svg\";","export default __webpack_public_path__ + \"static/media/facebook.0ca03b77.svg\";","export default __webpack_public_path__ + \"static/media/twitter.27d98fa0.svg\";","export default __webpack_public_path__ + \"static/media/reddit.0e964dac.svg\";","export default __webpack_public_path__ + \"static/media/anywhere.d01c2b01.svg\";","import React from 'react';\nimport storage from '../utils/storage';\nimport './style.css';\nimport cancel from '../img/cancel.svg';\nimport copy from '../img/copy.svg';\nimport whatsapp from '../img/whatsapp.svg';\nimport facebook from '../img/facebook.svg';\nimport twitter from '../img/twitter.svg';\nimport reddit from '../img/reddit.svg';\nimport anywhere from '../img/anywhere.svg';\nimport { useLocation } from 'react-router-dom';\n\nconst URL = window.location.origin + '/Deadiction';\n\nfunction copyText(text) {\n  navigator.clipboard.writeText(text).then(null, () => alert('Not copied :('));\n}\n\nfunction ShareView(props) {\n  const location = useLocation();\n  let adct = storage.getAddiction(location.state.addictionID);\n  let text;  // TODO: Better text\n  if (adct.timesAsked === 0)\n    text = `I've not used Deadiction still, but I've a good feeling about this.\nI'm trying not to ${adct.name.toLowerCase()}.`;\n  else if (adct.timesAsked === 1)\n    text = `Just started using Deadiction, and I've a good feeling about this.\nI'm trying not to ${adct.name.toLowerCase()}${adct.timesResisted ? \" and I've already started resisting\" : ''}.`;\n  else {\n    text = `I've used Deadiction ${adct.timesAsked} times trying to reduce how much I ${adct.name.toLowerCase()}.`;\n    if (adct.timesRelapsed) {\n      text += `\\n\\nI did fail ${adct.timesRelapsed} time${adct.timesRelapsed === 1 ? '' : 's'}, but I hope to improve.`\n      if (adct.timesResisted)\n        text += `\\nHopefully, I've been able to resist ${adct.timesResisted} time${adct.timesResisted === 1 ? '' : 's'}.`;\n    }\n    else if (adct.timesResisted)\n      text += `\\n\\nI've already resisted ${adct.timesResisted} time${adct.timesResisted === 1 ? '' : 's'}.`;\n  }\n\n  return <div id='share'>\n    <button\n      className='cancel'\n      title='Cancel'\n      onClick={props.onCancel}\n    ><img src={cancel} alt=\"✗\" /></button>\n    <h2>Share your story</h2>\n    <div className='content'>{text}</div>\n\n    <div className='control'>\n      <button\n        title='Copy text'\n        onClick={() => copyText(text + '\\n\\n' + URL)}\n      ><img src={copy} alt=\"Copy\" /></button>\n\n      <button\n        title='Share on WhatsApp'\n        onClick={() => open(`https://wa.me?text=${encodeURIComponent(text + '\\n\\n' + URL)}`, '_blank')}\n      ><img src={whatsapp} alt=\"WhatsApp\" /></button>\n\n      <button\n        title='Share on Facebook'\n        onClick={() => {\n          // Sharing to facebook is so hard!!!\n          copyText(text);\n          alert('Text copied, paste and share.');\n          setTimeout(() => open(`https://www.facebook.com/sharer.php?u=${URL}`, '_blank'), 10);\n        }}\n      ><img src={facebook} alt=\"Facebook\" /></button>\n\n      <button\n        title='Share on Twitter'\n        onClick={() =>\n          open(`http://twitter.com/share?text=${encodeURIComponent(text)}&url=${URL}&hashtags=deadiction`, '_blank')\n        }\n      ><img src={twitter} alt=\"Twitter\" /></button>\n\n      <button\n        title='Share on Reddit'\n        onClick={() =>\n          open(`https://www.reddit.com/submit?title=Deadiction&text=${encodeURIComponent(text + '\\n\\n' + URL)}`, '_blank')\n        }\n      ><img src={reddit} alt=\"Reddit\" /></button>\n\n      <button\n        title='Share anywhere'\n        onClick={() => {\n          if (navigator.share)\n            navigator.share({\n              title: 'Deadiction',\n              text,\n              url: URL\n            }).catch(console.error);\n        }}\n      ><img src={anywhere} alt=\"Anywhere\" /></button>\n    </div>\n  </div>;\n}\n\nexport default ShareView;","import React from 'react';\nimport { ListItem, ListView } from '../components/list';\nimport storage from '../utils/storage';\nimport CreateAddiction from './creation';\n// import import_ from '../img/import.svg';\n// import export_ from '../img/export.svg';\nimport add from '../img/add.svg';\nimport AddictionView from './AddictionView';\nimport ShareView from './ShareView';\nimport { Redirect, Route, Switch, useHistory, useRouteMatch } from 'react-router-dom';\n\nfunction Addiction() {\n  let data = storage.loadData();\n  const { path, url } = useRouteMatch();\n  const history = useHistory();\n\n  return <Switch>\n    <Route path={`${path}/create`}>\n      <CreateAddiction onDone={() => history.replace(`${url}/list`)} />\n    </Route>\n\n    <Route path={`${path}/list`}>\n      <ListAddiction\n        onCreate={() => history.push(`${url}/create`)}\n        onItemSelect={id => history.push(`${url}/view`, { addictionID: id })}\n        onShare={id => history.push(`${url}/share`, { addictionID: id })}\n      />\n    </Route>\n\n    <Route path={`${path}/view`}>\n      <AddictionView onCancel={history.goBack} />\n    </Route>\n\n    <Route path={`${path}/share`}>\n      <ShareView onCancel={history.goBack} />\n    </Route>\n\n    <Route path={path}>\n      {data.addictions.length === 0 ? <Redirect to={`${url}/create`} /> : <Redirect to={`${url}/list`} />}\n    </Route>\n  </Switch>;\n}\n\nexport default Addiction;\n\nfunction ListAddiction(props) {\n  let data = storage.loadData();\n\n  return <div id=\"lister\">\n    <div className='header'>\n      {/* <button\n        className='import'\n        onClick={() => props.onCreate()}\n      ><img src={import_} alt=\"Import\" /></button>\n      <button\n        className='export'\n        onClick={() => props.onCreate()}\n      ><img src={export_} alt=\"Export\" /></button> */}\n      <button\n        className='add'\n        title='Create new'\n        onClick={() => props.onCreate()}\n      ><img src={add} alt=\"+\" /></button>\n    </div>\n    <div className='instruction'>Choose what you're thinking to do.</div>\n    <ListView>\n      {data.addictions.map(x => <ListItem\n        key={x.id}\n        onClick={() => props.onItemSelect(x.id)}\n        onShare={() => props.onShare(x.id)}\n      >Should I <b>{x.name}</b>?</ListItem>)}\n    </ListView>\n  </div>;\n}","export default __webpack_public_path__ + \"static/media/rarrow.ea32db54.svg\";","import React, { useState } from 'react';\nimport './style.css';\nimport rarrow from '../img/rarrow.svg';\n\nfunction CardView(props) {\n  let numCards = props.children.length;  // single child fails\n  let [cardIdx, setCardIdx] = useState(0);\n\n  let card = React.cloneElement(props.children[cardIdx], {\n    key: cardIdx,\n    onNext: cardIdx === numCards - 1 ? props.onEnd : () => {\n      setCardIdx(cardIdx + 1);\n    }\n  });\n\n  return <div className=\"card-view\">{card}</div>;\n}\n\nfunction Card(props) {\n  let [state, setState] = useState('enter');\n\n  return <div\n    className={`card ${state}`}\n    style={{ ...props.style }}\n  >\n    <div className=\"content\">{props.children}</div>\n    <button\n      title='Next'\n      onClick={() => {\n        setState('exit');\n        setTimeout(props.onNext, 1000);\n      }}\n    ><img src={rarrow} alt=\">\" /></button>\n  </div>;\n}\n\nexport { CardView, Card };","import React from 'react';\nimport { Card, CardView } from '../components/card';\nfunction Intro(props) {\n  return <CardView onEnd={props.onEnd}>\n    <Card style={{ textAlign: \"center\" }}>Dealing with <u>addiction</u> can be hard.</Card>\n\n    <Card>Maybe rehab doesn't exist for your kind of addiction. Or maybe you just don't wanna go because you're worried that people will know.</Card>\n\n    <Card>But, do you have the <i>dedication</i> to quit your addiction by yourself?<br /><br />\n    If the answer is <b>yes</b>, this simple web app might be able to help.<br />\n    This takes a different approach to the problem.</Card>\n\n    <Card>How do people get <u>addicted</u>?<br /><br />\n    We start with something <small>small</small>, like an experiment. We like it and try to do a little more, thinking that we're in control.<br />\n    And soon it goes <big>out of control.</big></Card>\n\n    <Card><b>This</b> tries to take this backward. Initially, you are allowed to continue with your bad habits with small gaps in between. Gradually the gaps are increased.<br />\n    When you've not done the <u>bad habit</u> for some time, it incentivizes you by allowing you to do the <u>bad habit</u>.</Card>\n\n    <Card>It teaches you coping skills that might work for you, but more importantly, it motivates you. This helps keep you focused on quitting and helps motivate you to try to change.</Card>\n\n    <Card><div style={{ fontSize: '0.6em' }}>If you don't have self-determination, or you relapse with the incentives, that will be a problem. But the idea behind this approach is that you've enough <i>dedication</i> to stop your <u>addiction</u>, with <b>Deadiction</b> acting as a motivator.<br /><br />\n    This is an offline app. All your data is stored in <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\">local storage</a>.<br /><br />\n      <span style={{ fontFamily: 'serif' }}>Some addictions might need professional help. If so be the need, don't hesitate to reach out.</span><br /><br />\n    And lastly, if this approach, this app, helped you, do share your experience.</div></Card>\n  </CardView>;\n}\n\nexport default Intro;","import React, { useState } from 'react';\nimport { Route, Redirect, useHistory, Switch } from \"react-router-dom\";\nimport MainWin from './components/main_win';\nimport Addiction from './layouts/Addiction';\nimport Intro from './layouts/Intro';\nimport storage from './utils/storage.js';\n\n// TODO: Works for mobile devices?\n\nfunction App() {\n  let data = storage.loadData();\n  let [firstTime, setFirstTime] = useState(data.firstTime);\n  let path, url = path = '/Deadiction';  // TODO: How to use useRouteMatch here?\n  const history = useHistory();\n\n  return <MainWin title=\"Deadiction\">\n    <Switch>\n      <Route path={`${path}/intro`}>\n        <Intro onEnd={() => {\n          setFirstTime(false);\n          data.firstTime = false;\n          storage.saveData();\n          history.replace(url);\n        }} />\n      </Route>\n\n      <Route path={path}>\n        {firstTime ? <Redirect to={`${url}/intro`} /> : <Addiction />}\n      </Route>\n\n      <Route path='/'><Redirect to={url} /></Route>\n    </Switch>\n  </MainWin>;\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter><App /></BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}